# NAME: TikTok
# AUTHOR: markben 
# REPO: https://github.com/markbenzhuanshu/Shadowrocket
# UPDATED: 2025-11-21 00:00:00
# DESCRIPTION: ç²¾å‡†ä»£ç† TikTok å®˜æ–¹æœåŠ¡æµé‡ï¼ˆAppã€Webã€CDNã€APIï¼‰
# DOMAIN-KEYWORD: 1
# DOMAIN-SUFFIX: 13
# IP-ASN: 3
# IP-CIDR: 8
# IP-CIDR6: 2
# TOTAL: 24
# ===============================================
# é˜²æ³„æ¼å¢å¼ºæ¨¡æ¿ v1.0 (for Meta / Telegram / TikTok)
# ä½œè€…ï¼šmarkbenï¼ˆä¼˜åŒ– by GPT-5ï¼‰
# åŠŸèƒ½ï¼šé˜²æ­¢ DNS æ³„æ¼ + WebRTC æ³„æ¼
# æ›´æ–°æ—¶é—´ï¼š2025-11-21 00:30:00
# ===============================================

########################################
# ğŸ§± DNS æ³„æ¼é˜²æŠ¤
########################################
# ä½¿ç”¨åŠ å¯† DNS (DoH)
# è‹¥å®¢æˆ·ç«¯æ”¯æŒ DNS over HTTPS/HTTP3ï¼Œè¯·å¯ç”¨ä¸‹æ–¹ DoH æœåŠ¡
[DNS]
dns-server = https://1.1.1.1/dns-query, https://8.8.8.8/dns-query, https://9.9.9.9/dns-query
prefer-doh = true
no-system = true
dns-fallback-proxy = true

########################################
# âš”ï¸ WebRTC æ³„æ¼é˜²æŠ¤
########################################
# æ‹¦æˆª STUN / TURN / WebRTC ä¿¡ä»¤
DOMAIN-SUFFIX,stun.l.google.com,REJECT
DOMAIN-KEYWORD,stun,REJECT
DOMAIN-SUFFIX,webrtc.org,REJECT
DOMAIN-SUFFIX,turn.cn,REJECT
DOMAIN-SUFFIX,stun.services.mozilla.com,REJECT
DOMAIN-SUFFIX,stun.xten.com,REJECT
DOMAIN-SUFFIX,stun.voiparound.com,REJECT
DOMAIN-SUFFIX,stun.voipbuster.com,REJECT
DOMAIN-SUFFIX,stun.voipstunt.com,REJECT
DOMAIN-SUFFIX,stun.counterpath.net,REJECT
DOMAIN-SUFFIX,stun.ipvideotalk.com,REJECT
DOMAIN-SUFFIX,stun.fwdnet.net,REJECT
DOMAIN-SUFFIX,stun.callwithus.com,REJECT
DOMAIN-SUFFIX,stun.nextcloud.com,REJECT

########################################
# ğŸ§° IPv6 æ§åˆ¶ï¼ˆå¯é€‰ï¼‰
########################################
# å¦‚æœä½  IPv6 ç½‘ç»œè´¨é‡å·®ï¼Œå¯ç¦ç”¨æœ¬åœ° IPv6ï¼Œé˜²æ­¢æ³„æ¼
# disable-ipv6 = true


########################################
# âœ… PROCESS NAMES
########################################
PROCESS-NAME,tiktok.exe
PROCESS-NAME,com.zhiliaoapp.musically  # TikTok Android å®¢æˆ·ç«¯
PROCESS-NAME,com.ss.android.ugc.trill  # TikTok iOS å®¢æˆ·ç«¯

########################################
# ğŸŒ DOMAIN SUFFIXES (TikTok Official Domains)
########################################
# TikTok å®˜æ–¹åŸŸå
DOMAIN-SUFFIX,tiktok.com
DOMAIN-SUFFIX,tiktokcdn.com
DOMAIN-SUFFIX,tiktokapi.com
DOMAIN-SUFFIX,tiktokv.com
DOMAIN-SUFFIX,tiktokvideo.com
DOMAIN-SUFFIX,tiktokcdn.com
DOMAIN-SUFFIX,muscdn.com  # TikTok CDN èµ„æº

# TikTok API & Web æœåŠ¡
DOMAIN-SUFFIX,api.tiktok.com
DOMAIN-SUFFIX,web.tiktok.com
DOMAIN-SUFFIX,m.tiktok.com
DOMAIN-SUFFIX,v16m.tiktok.com

# å®˜æ–¹å¹¿å‘Šå’Œè®¤è¯ç›¸å…³
DOMAIN-SUFFIX,tiktokads.com
DOMAIN-SUFFIX,tiktokforbusiness.com

########################################
# ğŸ” DOMAIN-KEYWORD
########################################
DOMAIN-KEYWORD,tiktok
DOMAIN-KEYWORD,ttcdn
DOMAIN-KEYWORD,musically
DOMAIN-KEYWORD,tiktokapi

########################################
# ğŸŒ IP CIDR RANGES (TikTok Core IPs)
########################################
# TikTok æ ¸å¿ƒæœåŠ¡å™¨æ®µ
IP-CIDR,103.255.112.0/22,no-resolve  # TikTok æ ¸å¿ƒæœåŠ¡ IP èŒƒå›´
IP-CIDR,99.84.88.0/22,no-resolve  # TikTok CDN å’Œåª’ä½“æœåŠ¡ IP èŒƒå›´
IP-CIDR,199.232.0.0/16,no-resolve  # TikTok å…¨çƒå†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰IP èŒƒå›´
IP-CIDR,185.40.36.0/22,no-resolve  # TikTok å†…å®¹æœåŠ¡ IP èŒƒå›´

# TikTok API æœåŠ¡æ®µ
IP-CIDR,104.245.244.0/22,no-resolve  # TikTok API æœåŠ¡å™¨ IP èŒƒå›´
IP-CIDR,99.79.207.0/24,no-resolve  # TikTok API ç‰¹å®š IP åœ°å€æ®µ
IP-CIDR,35.156.32.0/22,no-resolve  # TikTok API æœåŠ¡æ®µ

########################################
# ğŸŒ IPv6 CIDR (TikTok IPv6)
########################################
IP-CIDR6,2400:da00::/32,no-resolve  # TikTok IPv6 åœ°å€æ®µ
IP-CIDR6,2600:9000::/35,no-resolve  # TikTok IPv6 åœ°å€æ®µ

########################################
# âœ… IP ASN (TikTok ASNs)
########################################
IP-ASN,45102,no-resolve  # TikTok ASN
IP-ASN,201053,no-resolve  # TikTok CDN ASN

########################################
# âœ… å¤‡æ³¨
# - ç²¾ç¡®åŒ¹é… TikTok æ ¸å¿ƒæœåŠ¡æµé‡
# - ä»…åŒ…æ‹¬ TikTok å®˜æ–¹åŸŸåä¸ IPï¼Œå‰”é™¤ç¬¬ä¸‰æ–¹åŸŸå
# - æ”¯æŒ IPv4 å’Œ IPv6ï¼Œç¡®ä¿ TikTok æµé‡ç¨³å®šä»£ç†
########################################
