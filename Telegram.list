# NAME: Telegram
# AUTHOR: markben 
# REPO: https://github.com/markbenzhuanshu/Shadowrocket
# UPDATED: 2025-11-20 23:30:00
# DESCRIPTION: ç²¾å‡†ä»£ç† Telegram å®˜æ–¹æœåŠ¡æµé‡ï¼ˆAppã€Webã€CDNã€APIï¼‰
# DOMAIN-KEYWORD: 1
# DOMAIN-SUFFIX: 15
# IP-ASN: 4
# IP-CIDR: 12
# IP-CIDR6: 3
# TOTAL: 32
# ===============================================
# é˜²æ³„æ¼å¢å¼ºæ¨¡æ¿ v1.0 (for Meta / Telegram / TikTok)
# ä½œè€…ï¼šmarkbenï¼ˆä¼˜åŒ– by GPT-5ï¼‰
# åŠŸèƒ½ï¼šé˜²æ­¢ DNS æ³„æ¼ + WebRTC æ³„æ¼
# æ›´æ–°æ—¶é—´ï¼š2025-11-21 00:30:00
# ===============================================

########################################
# ğŸ§± DNS æ³„æ¼é˜²æŠ¤
########################################
# ä½¿ç”¨åŠ å¯† DNS (DoH)
# è‹¥å®¢æˆ·ç«¯æ”¯æŒ DNS over HTTPS/HTTP3ï¼Œè¯·å¯ç”¨ä¸‹æ–¹ DoH æœåŠ¡
[DNS]
dns-server = https://1.1.1.1/dns-query, https://8.8.8.8/dns-query, https://9.9.9.9/dns-query
prefer-doh = true
no-system = true
dns-fallback-proxy = true

########################################
# âš”ï¸ WebRTC æ³„æ¼é˜²æŠ¤
########################################
# æ‹¦æˆª STUN / TURN / WebRTC ä¿¡ä»¤
DOMAIN-SUFFIX,stun.l.google.com,REJECT
DOMAIN-KEYWORD,stun,REJECT
DOMAIN-SUFFIX,webrtc.org,REJECT
DOMAIN-SUFFIX,turn.cn,REJECT
DOMAIN-SUFFIX,stun.services.mozilla.com,REJECT
DOMAIN-SUFFIX,stun.xten.com,REJECT
DOMAIN-SUFFIX,stun.voiparound.com,REJECT
DOMAIN-SUFFIX,stun.voipbuster.com,REJECT
DOMAIN-SUFFIX,stun.voipstunt.com,REJECT
DOMAIN-SUFFIX,stun.counterpath.net,REJECT
DOMAIN-SUFFIX,stun.ipvideotalk.com,REJECT
DOMAIN-SUFFIX,stun.fwdnet.net,REJECT
DOMAIN-SUFFIX,stun.callwithus.com,REJECT
DOMAIN-SUFFIX,stun.nextcloud.com,REJECT

########################################
# ğŸ§° IPv6 æ§åˆ¶ï¼ˆå¯é€‰ï¼‰
########################################
# å¦‚æœä½  IPv6 ç½‘ç»œè´¨é‡å·®ï¼Œå¯ç¦ç”¨æœ¬åœ° IPv6ï¼Œé˜²æ­¢æ³„æ¼
# disable-ipv6 = true


########################################
# âœ… PROCESS NAMES
########################################
PROCESS-NAME,Telegram.exe
PROCESS-NAME,com.telegram.android  # Telegram Android å®¢æˆ·ç«¯
PROCESS-NAME,com.telegram.iOS  # Telegram iOS å®¢æˆ·ç«¯
PROCESS-NAME,org.telegram.desktop  # Telegram Desktop å®¢æˆ·ç«¯

########################################
# ğŸŒ DOMAIN SUFFIXES (Official Telegram Domains)
########################################
# Telegram å®˜æ–¹åŸŸå
DOMAIN-SUFFIX,telegram.org
DOMAIN-SUFFIX,telegram.me
DOMAIN-SUFFIX,t.me
DOMAIN-SUFFIX,tdesktop.com
DOMAIN-SUFFIX,telegram.dog
DOMAIN-SUFFIX,telegramdownload.com

# Telegram API & CDN æœåŠ¡
DOMAIN-SUFFIX,api.telegram.org
DOMAIN-SUFFIX,cdn-telegram.org
DOMAIN-SUFFIX,telegra.ph  # ç”¨äºç”Ÿæˆ Telegram æ–‡ç« çš„ CDN
DOMAIN-SUFFIX,telega.one  # Telegram æ–‡ç« ç›¸å…³åŸŸå

# å…¶ä»– Telegram æœåŠ¡
DOMAIN-SUFFIX,web.telegram.org
DOMAIN-SUFFIX,core.telegram.org

########################################
# ğŸ” DOMAIN-KEYWORD
########################################
DOMAIN-KEYWORD,telegram
DOMAIN-KEYWORD,tg

########################################
# ğŸŒ IP CIDR RANGES (Telegram Core IPs)
########################################
# Telegram æ ¸å¿ƒæœåŠ¡å™¨æ®µ
IP-CIDR,149.154.160.0/20,no-resolve  # Telegram æ ¸å¿ƒæœåŠ¡ IP èŒƒå›´
IP-CIDR,91.108.0.0/16,no-resolve  # Telegram ä½¿ç”¨çš„ CDN å’Œåª’ä½“æœåŠ¡ IP èŒƒå›´
IP-CIDR,5.28.192.0/18,no-resolve  # Telegram ç›¸å…³æœåŠ¡
IP-CIDR,185.44.232.0/22,no-resolve  # Telegram æ ¸å¿ƒèŠ‚ç‚¹
IP-CIDR,2001:67c:4e8::/48,no-resolve  # Telegram IPv6 åœ°å€æ®µ

# Telegram API æœåŠ¡æ®µ
IP-CIDR,91.108.56.0/22,no-resolve  # Telegram API æœåŠ¡å™¨ IP èŒƒå›´
IP-CIDR,91.108.4.0/22,no-resolve  # Telegram æ ¸å¿ƒ API åœ°å€
IP-CIDR,149.154.167.0/24,no-resolve  # Telegram API ç‰¹å®š IP åœ°å€æ®µ

########################################
# ğŸŒ IPv6 CIDR (Telegram IPv6)
########################################
IP-CIDR6,2a0a:f280::/29,no-resolve  # Telegram IPv6 åœ°å€
IP-CIDR6,2001:b28:f23f::/48,no-resolve  # Telegram IPv6 åœ°å€
IP-CIDR6,2001:67c:4e8::/48,no-resolve  # Telegram å®˜æ–¹ IPv6 åœ°å€æ®µ

########################################
# âœ… IP ASN (Telegram ASNs)
########################################
IP-ASN,211157,no-resolve  # Telegram ASN
IP-ASN,44907,no-resolve  # Telegram ASN

########################################
# âœ… å¤‡æ³¨
# - ç²¾ç¡®åŒ¹é… Telegram æ ¸å¿ƒæœåŠ¡æµé‡
# - ä»…åŒ…æ‹¬ Telegram å®˜æ–¹åŸŸåä¸ IPï¼Œç§»é™¤æ‰€æœ‰æ— å…³åŸŸå
# - æ”¯æŒ IPv4 å’Œ IPv6ï¼Œç¡®ä¿ Telegram æµé‡ç¨³å®šä»£ç†
########################################
